studiofragrance_app  | 7:13:02 AM [express] GET /api/auth/user 401 in 3ms :: {"message":"인증되지 않음"}                                                                                                                                                                                                       
studiofragrance_app  | 7:13:02 AM [express] GET /api/site-content 200 in 12ms :: [{"id":2,"key":"brandStory","data":{"image…
studiofragrance_app  | 7:13:02 AM [express] GET /api/auth/user 401 in 1ms :: {"message":"인증되지 않음"}
studiofragrance_app  | === OAuth 시작 라우트 디버깅 ===
studiofragrance_app  | 1. OAuth 시작 요청 헤더: {
studiofragrance_app  |   'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36',                                                                                                                                                      
studiofragrance_app  |   referer: undefined,
studiofragrance_app  |   host: 'localhost:5000'                                                                                                                                                                                                                                                                
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | 2. OAuth 시작 세션 정보: {                                                                                                                                                                                                                                                              
studiofragrance_app  |   sessionID: 'J4KRqdkPyEMAe0bERUGC77rq5GHYyWNm',
studiofragrance_app  |   hasSession: true,                                                                                                                                                                                                                                                                     
studiofragrance_app  |   isAuthenticated: false                                                                                                                                                                                                                                                                
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | === 커스텀 State Store - 저장 ===
studiofragrance_app  | 1. 세션 상태: {                                                                                                                                                                                                                                                                         
studiofragrance_app  |   hasSession: true,                                                                                                                                                                                                                                                                     
studiofragrance_app  |   sessionID: 'J4KRqdkPyEMAe0bERUGC77rq5GHYyWNm',                                                                                                                                                                                                                                        
studiofragrance_app  |   sessionKeys: [ 'cookie' ]
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | 3. State 저장 완료: {                                                                                                                                                                                                                                                                   
studiofragrance_app  |   state: 'NRYHqdb7oy...',                                                                                                                                                                                                                                                               
studiofragrance_app  |   key: 'oauth2:naver-works',                                                                                                                                                                                                                                                            
studiofragrance_app  |   timestamp: 1751267582951                                                                                                                                                                                                                                                              
studiofragrance_app  | }
studiofragrance_app  | 5. 세션 강제 저장 완료                                                                                                                                                                                                                                                                  
studiofragrance_app  | === OAuth 콜백 라우트 디버깅 ===                                                                                                                                                                                                                                                        
studiofragrance_app  | 1. 콜백 수신된 쿼리 파라미터: {
studiofragrance_app  |   code: 'kr1a05xOVVBY05VRng0cmRiOQ==',                                                                                                                                                                                                                                                  
studiofragrance_app  |   state: 'NRYHqdb7oyva6itlgFOm_FHzsZ0rPxUgy4IUYX4xHog'
studiofragrance_app  | }
studiofragrance_app  | 2. 콜백 수신된 헤더: {                                                                                                                                                                                                                                                                  
studiofragrance_app  |   'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36',                                                                                                                                                      
studiofragrance_app  |   referer: undefined,
studiofragrance_app  |   'x-forwarded-for': undefined,
studiofragrance_app  |   host: 'localhost:5000'                                                                                                                                                                                                                                                                
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | === 커스텀 State Store - 검증 ===
studiofragrance_app  | 1. 검증 시작: {                                                                                                                                                                                                                                                                         
studiofragrance_app  |   hasSession: true,                                                                                                                                                                                                                                                                     
studiofragrance_app  |   sessionID: '2QH16eJlA_QMFazANUywbrCz32KKVr7C',
studiofragrance_app  |   providedState: 'NRYHqdb7oy...',                                                                                                                                                                                                                                                       
studiofragrance_app  |   sessionKeys: [ 'cookie' ]
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | 3. 세션 내용 확인: { hasKey: false, keyContent: undefined }                                                                                                                                                                                                                             
studiofragrance_app  | 4. 검증 실패 - state 키 없음                                                                                                                                                                                                                                                            
studiofragrance_app  | 3. Passport 인증 결과: {
studiofragrance_app  |   hasError: false,                                                                                                                                                                                                                                                                      
studiofragrance_app  |   hasUser: false,                                                                                                                                                                                                                                                                       
studiofragrance_app  |   infoType: 'object',
studiofragrance_app  |   info: { message: 'Unable to verify authorization request state.' }                                                                                                                                                                                                                    
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | 5. OAuth 콜백 사용자 정보 없음: {                                                                                                                                                                                                                                                       
studiofragrance_app  |   info: { message: 'Unable to verify authorization request state.' },
studiofragrance_app  |   infoString: '{"message":"Unable to verify authorization request state."}'                                                                                                                                                                                                             
studiofragrance_app  | }                                                                                                                                                                                                                                                                                       
studiofragrance_app  | 7:13:03 AM [express] GET /api/auth/user 401 in 0ms :: {"message":"인증되지 않음"}